# 失語症支援・鼻ポインタアプリ デモガイド

## アプリケーション概要

このアプリケーションは、MediaPipeを使用したリアルタイム鼻トラッキング技術により、失語症患者や重度運動障害者が、鼻の動きだけで意思疎通を図ることができるWebベースのツールです。

---

## 使用開始

### 1. ブラウザでアプリを開く

```
https://3000-i5h9w9z13kbkjgs3mxca6-4282f147.sg1.manus.computer
```

### 2. カメラアクセスを許可

初回起動時、ブラウザが**カメラへのアクセス許可**を求めます。

- **「許可」をクリック**してください
- 許可しないと、アプリは動作しません

### 3. セットアップ

- パソコンのカメラが顔全体を映すよう調整してください
- 照明が十分な環境で使用してください（逆光は避ける）
- 顔がカメラに映るまで、アプリは初期化を続けます

---

## 操作方法

### メイン画面

```
┌─────────────────────────────────────────┐
│  今、何を伝えたいですか？                 │
│                                         │
│  [ 🎁 ほしい ]  [ 🆘 たすけて ]  [ 💬 雑談 ]  │
│                                         │
│  ─────────────────────────────────────  │
│  ↑ ここでキャンセル                      │
└─────────────────────────────────────────┘
```

### ステップバイステップ

#### ステップ1：ボタンに鼻を向ける

- 3つのボタンのいずれかに鼻を向けます
- 鼻の位置が画面上に小さな円で表示されます（仮想ポインタ）

#### ステップ2：静止（ホバー状態）

- ボタンに向けたまま、**300～500ms 静止**します
- ボタンが**青く拡大**します（ホバー状態）

#### ステップ3：下方向に移動（確定操作）

- ホバー状態から、**鼻を下方向に移動**します
- 画面高さの5～8%程度の移動で十分です
- ボタンが**緑色に変わり**、確定されます

#### ステップ4：詳細画面へ遷移

- 確定後、選択したカテゴリの詳細画面に移動します

---

## 詳細画面の操作

詳細画面では、2×2グリッドで4つのオプションが表示されます。

**「ほしい」カテゴリの例：**
```
[ 水 ]  [ ご飯 ]
[ トイレ ]  [ 薬 ]
```

同じ操作（ホバー → 下方向移動）で詳細オプションを選択します。

---

## キャンセル・戻る操作

### 方法A：上方向ジェスチャ（推奨）

- **小さく上方向に移動**（画面高さの5～8%）
  - 現在の選択をキャンセル
  - Idle状態に戻る

- **大きく上方向に移動**（画面高さの15%以上）
  - メイン画面に戻る（グローバルホームジェスチャ）

### 方法B：画面下部「戻るゾーン」

- 画面最下部の**点線エリア**に鼻を向ける
- 自動的にキャンセルされます

---

## 仮想ポインタの見方

### 円の色

- **緑色**：信頼度が高い（80%以上）
  - 正確にトラッキングされている
  
- **青色**：信頼度が中程度（60～80%）
  - トラッキングは安定している
  
- **赤色**：信頼度が低い（60%未満）
  - トラッキングが不安定な可能性
  - 照明やカメラの角度を調整してください

### 透明度

- 透明度が低い場合、トラッキングが失われています
- 顔がカメラに映っているか確認してください

---

## トラブルシューティング

### 「エラーが発生しました」と表示される

**原因：** カメラアクセスが許可されていない

**対策：**
1. ブラウザの設定を確認
2. カメラへのアクセスを許可
3. ページをリロード（F5キー）

### 鼻が検出されない

**原因：** 照明不足、または顔がカメラに映っていない

**対策：**
1. 照明を改善（デスクライトなどを使用）
2. 逆光を避ける
3. カメラの位置を調整して顔全体が映るようにする
4. ページをリロード

### ジェスチャが反応しない

**原因：** 移動速度が速すぎるか、移動距離が不足

**対策：**
1. **ゆっくり、大きく**鼻を動かす
2. 画面下部の「戻るゾーン」を使用してキャンセル
3. 再度試す

### 「初期化中...」が長く続く

**原因：** MediaPipeのモデルファイルをダウンロード中

**対策：**
1. 数秒待機（初回起動時は特に時間がかかる場合があります）
2. インターネット接続を確認
3. ページをリロード

---

## 推奨環境

| 項目 | 推奨仕様 |
|------|---------|
| ブラウザ | Chrome, Firefox, Safari, Edge（最新版） |
| カメラ | 1080p以上推奨 |
| 照明 | 500ルクス以上 |
| ネットワーク | 5Mbps以上 |
| 距離 | カメラから30～50cm |

---

## 利用シーン

### 1. 日常生活での意思疎通

- 「ほしい」カテゴリで、必要なものをリクエスト
- 介助者がすぐに対応できます

### 2. 緊急時の連絡

- 「たすけて」カテゴリで、即座に支援を要請
- 「痛い」「気分が悪い」など、症状を伝達

### 3. コミュニケーション

- 「雑談」カテゴリで、会話のきっかけを作成
- 家族や友人との交流を促進

---

## 今後の拡張予定

- 音声フィードバック機能
- 視線入力との併用
- 生成AI統合による自動応答
- ユーザーカスタマイズ機能

---

## サポート

問題が発生した場合は、以下の情報をご確認ください：

1. **ブラウザコンソール**（F12キー）でエラーメッセージを確認
2. **カメラの状態**を確認
3. **ページをリロード**して再試行

---

## プライバシーとセキュリティ

- **カメラデータ**：ブラウザ内でのみ処理されます
- **外部送信**：鼻の座標データのみがサーバーに送信されます
- **データ保存**：ローカルに保存されません

---

**ご利用ありがとうございます。このアプリケーションが、皆様のコミュニケーションをサポートできることを願っています。**
